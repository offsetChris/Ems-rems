<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>Ems, rems, and flexible interfaces Demo</title>
		
		<style>
			/*html{
				font-size:10px;
			}*/
			*{
				box-sizing:border-box;
			}
			body{
				background: #f1f1f1;
				font-family: Arial, Helvetica, sans-serif;
/*				font-size: 1rem;*/
				line-height: 1.5;
			}
			main{
				max-width: 1200px;
				margin: 0 auto 90px auto;
			}
			footer{
				border-top: 1px solid #999;
				padding: 30px;
				display: flex;
				flex-direction: row;
				justify-content: space-between;
			}
			.demo-links a{
				margin-left:1em;
			}
			p{
				margin:0;
			}
			details{
				margin: 1em 0;
			}
			.flexfields{
				display: flex;
				align-items: stretch;
				flex-wrap: wrap;
			}
			fieldset{
				display: flex;
				flex-direction: column;
			}
			legend{
				padding: 0px 30px;
				font-weight: bold;
			}
			label{
				margin-right: 20px;
				margin-top: 10px;
			}
			input{
				margin-left: 5px;
				font-size: 1rem;
			}
			button[type=submit]{
				padding: 10px 30px;
				flex-grow: 0;
				cursor: pointer;
				align-self: flex-end;
			}
			.logo_si{
				width: 150px;
				align-self: flex-end;
				margin: 0px 10px;
			}
			#stage{
				margin: 30px;
			}
			.computed{
				display: flex;
				flex-direction: row;
				justify-content: flex-end;
				flex-wrap: wrap;
			}
			.computed > span, .computed > strong{
				margin: 0px 20px;
			}
			.computed > strong{
				margin-right: auto;
			}
			#parent, #child, #grandchild{
				padding: 20px;
			}
			#parent{
				background: burlywood;
				border: 1px solid black;
			}
			#child{
				background: lightsteelblue;
				border: 1px solid black;
			}
			#grandchild{
				background: lavender;
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<main>
			<h1>Ems & Rems Demo</h1>
			<details>
				<summary>Instructions</summary>
				<p>Enter font-size units in px or em to see how the parent/child inheritence and font-size calculation changes between units. Submitting a font-size in px for the html element replicates modifications in the user agent preferences. Remember to include your units such as "5em" in the form fields.</p>
			</details>
			
			<section aria-label="font size experiments">
				<form id="sizeChange">
					<label><input name="heightWidthOn" type="checkbox"> Show computed width & height</label>
					<div class="flexfields">
						<fieldset>
							<legend>html</legend>
							<label>font-size<input type="text" name="htmlFont"></label>
						</fieldset>
						<fieldset>
							<legend>#parent</legend>
							<label>font-size<input type="text" name="parentFont" value="1rem"></label>
							<label>width<input type="text" name="parentWidth"></label>
							<label>height<input type="text" name="parentHeight"></label>
						</fieldset>

						<fieldset>
							<legend>#child</legend>
							<label>font-size<input type="text" name="childFont" value="2em"></label>
							<label>width<input type="text" name="childWidth"></label>
							<label>height<input type="text" name="childHeight"></label>
						</fieldset>

						<fieldset>
							<legend>#grandchild</legend>
							<label>font-size<input type="text" name="gchildFont" value="1em"></label>
							<label>width<input type="text" name="gchildWidth"></label>
							<label>height<input type="text" name="gchildHeight"></label>
						</fieldset>
					</div>
					<button type="submit">Apply styles</button>
				</form>

				<div id="stage">
					<strong id="rootEl">html computed font-size: <span class="fontsize_dest"></span></strong>
					<div id="parent">
						<p><strong>Parent</strong></p>
						<div class="computed">
							<strong>Computed font-size: <span class="fontsize_dest"></span></strong>
							<span class="hw">Computed width: <span class="width_dest"></span></span>
							<span class="hw">Computed height: <span class="height_dest"></span></span>
						</div>

						<div id="child">
							<p><strong>Child</strong></p>
							<div class="computed">
								<strong>Computed font-size: <span class="fontsize_dest"></span></strong>
								<span class="hw">Computed width: <span class="width_dest"></span></span>
								<span class="hw">Computed height: <span class="height_dest"></span></span>
							</div>

							<div id="grandchild">
								<p><strong>Grandchild</strong></p>
								<div class="computed">
									<strong>Computed font-size: <span class="fontsize_dest"></span></strong>
									<span class="hw">Computed width: <span class="width_dest"></span></span>
									<span class="hw">Computed height: <span class="height_dest"></span></span>
								</div>
							</div>
						</div>
					</div>
				</div>

			</section>
		</main>


		<footer>
			<p>Built by <a href="https://offsetchris.com" target="_blank"><strong>Christina Adams</strong>
				<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 50 50">
					<title>Opens in a new window</title>
					<path fill="#333" d="M9.375 3.125v37.5h37.5v-37.5h-37.5zM43.75 37.5h-31.25v-31.25h31.25v31.25zM6.25 43.75v-32.813l-3.125-3.125v39.063h39.063l-3.125-3.125h-32.813z"></path>
					<path fill="#333" d="M17.188 12.5l7.813 7.813-9.375 9.375 4.688 4.688 9.375-9.375 7.813 7.813v-20.313z"></path>
				</svg>
			</a></p>
			<div class="logo_si">
				<?xml version="1.0" encoding="utf-8"?>
					<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 490.2 82.7" style="enable-background:new 0 0 490.2 82.7;" xml:space="preserve">
					<style type="text/css">
						.st0{fill:#141155;}
					</style>
					<g>
						<g>
							<path class="st0" d="M0,50.4l10.6-6.2c2.3,5.9,6.7,9.6,14.5,9.6c7.5,0,10.1-3.2,10.1-6.7c0-4.7-4.2-6.5-13.6-9.2
								c-9.6-2.8-19-6.8-19-18.8c0-11.9,9.9-18.7,20.7-18.7c10.4,0,18.3,5.3,22.5,14.1l-10.4,6c-2.3-4.8-5.7-8.1-12.1-8.1
								c-5.2,0-8.3,2.7-8.3,6.3c0,3.9,2.4,5.9,12,8.8c10,3.2,20.6,6.5,20.6,19.4c0,11.8-9.5,19-22.9,19C11.9,66,3.4,59.8,0,50.4z"/>
							<path class="st0" d="M53.9,7.2C53.9,3.3,57.1,0,61,0c4,0,7.2,3.3,7.2,7.2S65,14.3,61,14.3C57.1,14.3,53.9,11.1,53.9,7.2z
								 M55.2,19.7h11.6v45H55.2V19.7z"/>
							<path class="st0" d="M93,30.9v18.7c0,4.9,3.5,5,10.2,4.6v10.5c-16.3,1.8-21.8-3-21.8-15.1V30.9h-7.8V19.7h7.8v-9.1L93,7.1v12.6
								h10.2v11.2C103.2,30.9,93,30.9,93,30.9z"/>
							<path class="st0" d="M132.5,55.5c4.5,0,8.1-1.9,10.1-4.5l9.4,5.4c-4.2,6.1-11,9.6-19.6,9.6c-15.1,0-24.7-10.4-24.7-23.8
								s9.6-23.8,23.8-23.8c13.3,0,22.8,10.5,22.8,23.8c0,1.7-0.2,3.2-0.5,4.8h-33.9C121.5,52.9,126.4,55.5,132.5,55.5z M142.6,38
								c-1.4-6.5-6.3-9.1-11.2-9.1c-6.2,0-10.4,3.3-11.8,9.1H142.6z"/>
							<path class="st0" d="M161,7.2c0-3.9,3.2-7.2,7.1-7.2c4,0,7.2,3.3,7.2,7.2s-3.2,7.1-7.2,7.1C164.2,14.3,161,11.1,161,7.2z
								 M162.3,19.7h11.6v45h-11.6V19.7L162.3,19.7z"/>
							<path class="st0" d="M251.4,37v27.7h-11.6V37.8c0-5.3-2.7-8.6-7.6-8.6c-5.1,0-8.4,3.4-8.4,10.2v25.3h-11.6V37.8
								c0-5.3-2.7-8.6-7.6-8.6c-5,0-8.5,3.4-8.5,10.2v25.3h-11.6v-45h11.6v4.8c2.5-3.8,6.8-6,12.5-6c5.6,0,9.7,2.3,12.2,6.5
								c2.8-4.1,7.3-6.5,13.4-6.5C244.6,18.5,251.4,25.7,251.4,37z"/>
							<path class="st0" d="M309.5,42.2c0,13.4-9.9,23.8-22,23.8c-6.6,0-11.3-2.4-14.6-6.6v23.3h-11.6v-63h11.6V25
								c3.2-4.1,8-6.6,14.6-6.6C299.5,18.5,309.5,28.8,309.5,42.2z M297.8,42.2c0-7.6-5.3-12.7-12.5-12.7c-7.1,0-12.4,5.1-12.4,12.7
								s5.3,12.7,12.4,12.7C292.5,54.9,297.8,49.8,297.8,42.2z"/>
							<path class="st0" d="M342.9,18.8v13c-6-0.7-13.7,2-13.7,11.4v21.5h-11.6v-45h11.6v7.7C331.6,21.3,337.3,18.8,342.9,18.8z"/>
							<path class="st0" d="M345.6,42.2c0-13.4,10.5-23.8,23.8-23.8c13.2,0,23.9,10.4,23.9,23.8S382.6,66,369.4,66
								C356.2,66,345.6,55.6,345.6,42.2z M381.7,42.2c0-7.3-5.3-12.4-12.2-12.4c-6.8,0-12.2,5.1-12.2,12.4s5.3,12.4,12.2,12.4
								C376.3,54.6,381.7,49.5,381.7,42.2z"/>
							<path class="st0" d="M442.1,19.7l-17.1,45h-13.2l-17.1-45h12.8l10.9,31.5l11-31.5C429.4,19.7,442.1,19.7,442.1,19.7z"/>
							<path class="st0" d="M468.4,55.5c4.5,0,8.1-1.9,10.1-4.5l9.4,5.4c-4.2,6.1-11,9.6-19.6,9.6c-15.1,0-24.7-10.4-24.7-23.8
								s9.6-23.8,23.8-23.8c13.3,0,22.8,10.5,22.8,23.8c0,1.7-0.2,3.2-0.5,4.8h-33.9C457.3,52.9,462.2,55.5,468.4,55.5z M478.4,38
								c-1.4-6.5-6.3-9.1-11.2-9.1c-6.2,0-10.4,3.3-11.8,9.1H478.4z"/>
						</g>
					</g>
				</svg>
			</div>
			<div class="demo-links">
				<a href="./index.html">Ems Rems Demo</a>
				<a href="./breakpoints.html">Breakpoints demo</a>
				<a href="./fixednav.html">Fixed stuff demo</a>	
				<a href="./margins.html">Margins demo</a>	
			</div>
			
		</footer>

		<script>

			function getWindowSize(){
				console.group("%cResize Event", "color:red");
				console.log("Window layout viewport width:", window.innerWidth);
				// console.log("Pixel density:", window.devicePixelRatio);
				console.groupEnd();
				// Big thank you to https://www.bennadel.com/blog/3811-looking-at-how-browser-zoom-affects-css-media-queries-and-pixel-density.htm for this concept
			}
			
			window.addEventListener('resize', getWindowSize);

			const htmlEl = document.getElementsByTagName('html');
			const rootEl = document.getElementById('rootEl');
			const form = document.getElementById('sizeChange');
			const parent = document.getElementById('parent');
			const child = document.getElementById('child');
			const gchild = document.getElementById('grandchild');
			const heightwidth = document.querySelectorAll('.hw');

			function applyStyle() {
				
				const fields = form.querySelectorAll('input');
				for(let i=0;i<fields.length;i++){
					fields[i].removeAttribute('style');
					const val = fields[i].value
					switch (fields[i].name){
						case 'heightWidthOn':
							if(fields[i].checked){
								heightwidth.forEach(span => span.style.display = "inline");
							} else {
								heightwidth.forEach(span => span.style.display = "none");
							}
							break;
						case 'htmlFont':
							htmlEl[0].style.fontSize = val;
							rootEl.querySelector(".fontsize_dest").innerText = window.getComputedStyle(htmlEl[0]).fontSize;
							break;
						case 'parentFont':
							parent.style.fontSize = val;
							parent.querySelector(".fontsize_dest").innerText = window.getComputedStyle(parent).fontSize;
							break;
						case 'parentWidth':
							parent.style.width = val;
							parent.querySelector(".width_dest").innerText = window.getComputedStyle(parent).width;
							break;
						case 'parentHeight':
							parent.style.height = val;
							parent.querySelector(".height_dest").innerText = window.getComputedStyle(parent).height;
							break;
						case 'childFont':
							child.style.fontSize = val;
							child.querySelector(".fontsize_dest").innerText = window.getComputedStyle(child).fontSize;
							break;
						case 'childWidth':
							child.style.width = val;
							child.querySelector(".width_dest").innerText = window.getComputedStyle(child).width;
							break;
						case 'childHeight':
							child.style.height = val;
							child.querySelector(".height_dest").innerText = window.getComputedStyle(child).height;
							break;
						case 'gchildFont':
							gchild.style.fontSize = val;
							gchild.querySelector(".fontsize_dest").innerText = window.getComputedStyle(gchild).fontSize;
							break;
						case 'gchildWidth':
							gchild.style.width = val;
							gchild.querySelector(".width_dest").innerText = window.getComputedStyle(gchild).width;
							break;
						case 'gchildHeight':
							gchild.style.height = val;
							gchild.querySelector(".height_dest").innerText = window.getComputedStyle(gchild).height;
							break;
					}
				}
			}

			form.addEventListener('submit', function(){
				event.preventDefault();
				applyStyle()
			});

			applyStyle();

		</script>
	</body>
</html>